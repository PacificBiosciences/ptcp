[scheduler]
# https://github.com/miniwdl-ext/miniwdl-slurm
container_backend = slurm_singularity
task_concurrency = 100
fail_fast = false

[file_io]
allow_any_input = true
output_hardlinks = true
use_relative_output_paths = true

[call_cache]
put = true
get = true
dir = "$PWD/miniwdl_call_cache"

[task_runtime]
command_shell = "/bin/bash"
defaults = {
    "maxRetries": 2,
    "cpu": 2,
    "memory": "4 GB",
    "docker": "ubuntu:20.04",
    "slurm_partition": "compute,compute9"
    }

[singularity]
exe = ["/usr/bin/singularity"]
run_options = [
    "--containall",
    "--nv"
    ]
image_cache = "$PWD/miniwdl_singularity_cache"